import{S as ue,i as he,s as de,k as g,a as N,l as p,m,c as A,h,n as u,b as w,C as d,A as O,D as _e,L as Fe,M as G,N as Me,e as ee,q as P,r as y,u as V,p as Pe,t as F,d as Oe,f as M,g as Ue,v as je,w as Le,x as Re,y as qe,E as Ge,F as He,G as Je}from"../../../chunks/index-89a3db65.js";import{c as ge}from"../../../chunks/config-d638e341.js";import{b as q}from"../../../chunks/paths-6cd3a76e.js";let{size:te}=ge.paginator;te%2==0&&te++;class Ke{constructor(e,a){if(!e||!a)throw new TypeError;let r=e[a];this.pages=r.pages,this.length=r.length,this.actual=1}get first(){return 1}get last(){return this.pages}get prev(){return Math.max(1,this.actual-1)}get next(){return Math.min(this.pages,this.actual+1)}get withControls(){return this.pages>te}*items(){const e=te-1>>>1;let a=Math.max(1,this.actual-e),r=Math.min(this.pages,this.actual+e),l;(l=r-this.actual)<e?a-=e-l:(l=this.actual-a)<e&&(r+=e-l);for(var t=a;t<=r;t++)yield t}normalize(e){if(this._maxDigits)return e.toString().padStart(this._maxDigits,"0");let a=0;for(let r=this.pages;r>0;r=~~(r/10))a++;return this._maxDigits=a,console.log(this._maxDigits),this.normalize(e)}}function ye(i,e,a){const r=i.slice();return r[0]=e[a],r}function De(i){let e,a,r,l,t,c,n,s,f;return{c(){e=g("button"),a=g("span"),l=N(),t=g("button"),c=g("span"),this.h()},l(o){e=p(o,"BUTTON",{class:!0,"data-page":!0});var _=m(e);a=p(_,"SPAN",{class:!0}),m(a).forEach(h),_.forEach(h),l=A(o),t=p(o,"BUTTON",{class:!0,"data-page":!0});var D=m(t);c=p(D,"SPAN",{class:!0}),m(c).forEach(h),D.forEach(h),this.h()},h(){u(a,"class","fa-solid fa-angles-left"),u(e,"class","btn"),u(e,"data-page",r=i[1].first),u(c,"class","fa-solid fa-angle-left"),u(t,"class","btn"),u(t,"data-page",n=i[1].prev)},m(o,_){w(o,e,_),d(e,a),w(o,l,_),w(o,t,_),d(t,c),s||(f=[G(e,"click",i[2]),G(t,"click",i[2])],s=!0)},p(o,_){_&2&&r!==(r=o[1].first)&&u(e,"data-page",r),_&2&&n!==(n=o[1].prev)&&u(t,"data-page",n)},d(o){o&&h(e),o&&h(l),o&&h(t),s=!1,Me(f)}}}function Qe(i){let e,a=i[1].normalize(i[0])+"",r,l,t,c;return{c(){e=g("button"),r=P(a),this.h()},l(n){e=p(n,"BUTTON",{class:!0,"data-page":!0});var s=m(e);r=y(s,a),s.forEach(h),this.h()},h(){u(e,"class","btn"),u(e,"data-page",l=i[0])},m(n,s){w(n,e,s),d(e,r),t||(c=G(e,"click",i[2]),t=!0)},p(n,s){s&2&&a!==(a=n[1].normalize(n[0])+"")&&V(r,a),s&2&&l!==(l=n[0])&&u(e,"data-page",l)},d(n){n&&h(e),t=!1,c()}}}function We(i){let e,a=i[1].normalize(i[0])+"",r,l,t,c;return{c(){e=g("button"),r=P(a),this.h()},l(n){e=p(n,"BUTTON",{class:!0,"data-page":!0});var s=m(e);r=y(s,a),s.forEach(h),this.h()},h(){u(e,"class","btn btn-active"),u(e,"data-page",l=i[0])},m(n,s){w(n,e,s),d(e,r),t||(c=G(e,"click",i[2]),t=!0)},p(n,s){s&2&&a!==(a=n[1].normalize(n[0])+"")&&V(r,a),s&2&&l!==(l=n[0])&&u(e,"data-page",l)},d(n){n&&h(e),t=!1,c()}}}function Se(i){let e;function a(t,c){return t[1].actual==t[0]?We:Qe}let r=a(i),l=r(i);return{c(){l.c(),e=ee()},l(t){l.l(t),e=ee()},m(t,c){l.m(t,c),w(t,e,c)},p(t,c){r===(r=a(t))&&l?l.p(t,c):(l.d(1),l=r(t),l&&(l.c(),l.m(e.parentNode,e)))},d(t){l.d(t),t&&h(e)}}}function Te(i){let e,a,r,l,t,c,n,s,f;return{c(){e=g("button"),a=g("span"),l=N(),t=g("button"),c=g("span"),this.h()},l(o){e=p(o,"BUTTON",{class:!0,"data-page":!0});var _=m(e);a=p(_,"SPAN",{class:!0}),m(a).forEach(h),_.forEach(h),l=A(o),t=p(o,"BUTTON",{class:!0,"data-page":!0});var D=m(t);c=p(D,"SPAN",{class:!0}),m(c).forEach(h),D.forEach(h),this.h()},h(){u(a,"class","fa-solid fa-angle-right"),u(e,"class","btn"),u(e,"data-page",r=i[1].next),u(c,"class","fa-solid fa-angles-right"),u(t,"class","btn"),u(t,"data-page",n=i[1].last)},m(o,_){w(o,e,_),d(e,a),w(o,l,_),w(o,t,_),d(t,c),s||(f=[G(e,"click",i[2]),G(t,"click",i[2])],s=!0)},p(o,_){_&2&&r!==(r=o[1].next)&&u(e,"data-page",r),_&2&&n!==(n=o[1].last)&&u(t,"data-page",n)},d(o){o&&h(e),o&&h(l),o&&h(t),s=!1,Me(f)}}}function Xe(i){let e,a,r,l=i[1].withControls&&De(i),t=[...i[1].items()],c=[];for(let s=0;s<t.length;s+=1)c[s]=Se(ye(i,t,s));let n=i[1].withControls&&Te(i);return{c(){e=g("div"),l&&l.c(),a=N();for(let s=0;s<c.length;s+=1)c[s].c();r=N(),n&&n.c(),this.h()},l(s){e=p(s,"DIV",{class:!0});var f=m(e);l&&l.l(f),a=A(f);for(let o=0;o<c.length;o+=1)c[o].l(f);r=A(f),n&&n.l(f),f.forEach(h),this.h()},h(){u(e,"class","btn-group my-4")},m(s,f){w(s,e,f),l&&l.m(e,null),d(e,a);for(let o=0;o<c.length;o+=1)c[o].m(e,null);d(e,r),n&&n.m(e,null)},p(s,[f]){if(s[1].withControls?l?l.p(s,f):(l=De(s),l.c(),l.m(e,a)):l&&(l.d(1),l=null),f&6){t=[...s[1].items()];let o;for(o=0;o<t.length;o+=1){const _=ye(s,t,o);c[o]?c[o].p(_,f):(c[o]=Se(_),c[o].c(),c[o].m(e,r))}for(;o<c.length;o+=1)c[o].d(1);c.length=t.length}s[1].withControls?n?n.p(s,f):(n=Te(s),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:O,o:O,d(s){s&&h(e),l&&l.d(),_e(c,s),n&&n.d()}}}function Ye(i,e,a){let r,{res:l}=e,{page:t=1}=e;const c=Fe();function n(s){const o=+s.target.closest(".btn").dataset.page;s.preventDefault(),r.actual!==o&&(a(1,r.actual=o,r),c("changePage",r.actual))}return i.$$set=s=>{"res"in s&&a(3,l=s.res),"page"in s&&a(0,t=s.page)},i.$$.update=()=>{i.$$.dirty&8&&a(1,r=new Ke(l,"posts")),i.$$.dirty&1&&a(1,r.actual=t,r)},[t,r,n,l]}class Ze extends ue{constructor(e){super(),he(this,e,Ye,Xe,de,{res:3,page:0})}}const{maxLength:Ce}=ge.posts.body,{colors:fe}=ge.posts.author;function xe(i){if(i.length>Ce){const e=Ce-3;return i.substring(0,e)+"..."}return i}function $e(i){const e=i.name||"Anonymous";var a=0;for(let l=0;l<e.length;l++){let t=e.charCodeAt(l);a=(a<<5)-a+t,a=a&a}let r=a%fe.length;return r<0&&(r=fe.length+r),fe[r]}function Ie(i,e,a){const r=i.slice();return r[6]=e[a],r}function Ve(i){let e,a,r,l,t=i[6].name+"",c,n,s;return{c(){e=g("btn"),a=g("span"),r=N(),l=g("a"),c=P(t),s=N(),this.h()},l(f){e=p(f,"BTN",{class:!0});var o=m(e);a=p(o,"SPAN",{class:!0}),m(a).forEach(h),r=A(o),l=p(o,"A",{href:!0,class:!0});var _=m(l);c=y(_,t),_.forEach(h),s=A(o),o.forEach(h),this.h()},h(){u(a,"class","fa-solid fa-tag"),u(l,"href",n=q+"/posts/?cat="+i[6].id),u(l,"class","link link-hover text-base-content"),u(e,"class","badge badge-lg badge-primary gap-2 mr-2")},m(f,o){w(f,e,o),d(e,a),d(e,r),d(e,l),d(l,c),d(e,s)},p(f,o){o&16&&t!==(t=f[6].name+"")&&V(c,t),o&16&&n!==(n=q+"/posts/?cat="+f[6].id)&&u(l,"href",n)},d(f){f&&h(e)}}}function et(i){let e,a,r,l,t,c=i[1].name.charAt(0)+"",n,s,f,o,_,D,Q,ae,U,W,le,S,B,T,H,se,X,re,j,ne,C,L,J=i[1].name+"",Y,Z,oe,z,R=i[4],k=[];for(let b=0;b<R.length;b+=1)k[b]=Ve(Ie(i,R,b));return{c(){e=g("article"),a=g("div"),r=g("div"),l=g("div"),t=g("span"),n=P(c),s=N(),f=g("div"),o=g("a"),_=g("h1"),D=P(i[2]),ae=N(),U=g("div"),W=P(i[0]),le=N(),S=g("div"),B=g("div"),T=g("span"),H=g("span"),se=P("\xA0"),X=P(i[5]),re=N(),j=g("span"),ne=P("by:\xA0"),C=g("a"),L=g("em"),Y=P(J),oe=N(),z=g("div");for(let b=0;b<k.length;b+=1)k[b].c();this.h()},l(b){e=p(b,"ARTICLE",{tabinde:!0,class:!0});var E=m(e);a=p(E,"DIV",{class:!0});var v=m(a);r=p(v,"DIV",{class:!0});var K=m(r);l=p(K,"DIV",{class:!0,style:!0});var pe=m(l);t=p(pe,"SPAN",{class:!0});var me=m(t);n=y(me,c),me.forEach(h),pe.forEach(h),K.forEach(h),s=A(v),f=p(v,"DIV",{class:!0});var I=m(f);o=p(I,"A",{href:!0,class:!0});var be=m(o);_=p(be,"H1",{class:!0});var ve=m(_);D=y(ve,i[2]),ve.forEach(h),be.forEach(h),ae=A(I),U=p(I,"DIV",{class:!0});var ke=m(U);W=y(ke,i[0]),ke.forEach(h),le=A(I),S=p(I,"DIV",{class:!0});var x=m(S);B=p(x,"DIV",{class:!0,"data-tip":!0});var Ee=m(B);T=p(Ee,"SPAN",{class:!0});var $=m(T);H=p($,"SPAN",{class:!0}),m(H).forEach(h),se=y($,"\xA0"),X=y($,i[5]),$.forEach(h),Ee.forEach(h),re=A(x),j=p(x,"SPAN",{});var ie=m(j);ne=y(ie,"by:\xA0"),C=p(ie,"A",{href:!0,class:!0});var we=m(C);L=p(we,"EM",{class:!0});var Ne=m(L);Y=y(Ne,J),Ne.forEach(h),we.forEach(h),ie.forEach(h),x.forEach(h),oe=A(I),z=p(I,"DIV",{class:!0});var Ae=m(z);for(let ce=0;ce<k.length;ce+=1)k[ce].l(Ae);Ae.forEach(h),I.forEach(h),v.forEach(h),E.forEach(h),this.h()},h(){u(t,"class","text-3xl leading-[5rem]"),u(l,"class","rounded rounded-full w-[5rem] m-6 text-center select-none border-2 border-neutral text-neutral-content"),Pe(l,"background-color",i[1].color),u(r,"class","avatar flex justify-center sm:float-left"),u(_,"class","text-xl font-extrabold my-2"),u(o,"href",Q=q+"/view/post/?id="+i[3]),u(o,"class","link link-hover basis-full sm:flex-auto"),u(U,"class","basis-full overflow-y"),u(H,"class","fa-solid fa-thumbs-up"),u(T,"class","badge badge-secondary gap-2"),u(B,"class","tooltip"),u(B,"data-tip","Reactions"),u(L,"class","font-bold"),u(C,"href",Z=q+"/view/author/?id="+i[3]),u(C,"class","link"),u(S,"class","my-2 text-sm basis-full text-right inline-flex gap-2 justify-end md:justify-start"),u(z,"class","text-left my-2 text-bg-300 sm:text-right"),u(f,"class","flex flex-row flex-wrap sm:flex-row"),u(a,"class","grow m-4"),u(e,"tabinde","0"),u(e,"class","flex flex-row bg-base-300 text-base-content m-4 basis-full basis-11/12 rounded border border-neutral align-middle")},m(b,E){w(b,e,E),d(e,a),d(a,r),d(r,l),d(l,t),d(t,n),d(a,s),d(a,f),d(f,o),d(o,_),d(_,D),d(f,ae),d(f,U),d(U,W),d(f,le),d(f,S),d(S,B),d(B,T),d(T,H),d(T,se),d(T,X),d(S,re),d(S,j),d(j,ne),d(j,C),d(C,L),d(L,Y),d(f,oe),d(f,z);for(let v=0;v<k.length;v+=1)k[v].m(z,null)},p(b,[E]){if(E&2&&c!==(c=b[1].name.charAt(0)+"")&&V(n,c),E&2&&Pe(l,"background-color",b[1].color),E&4&&V(D,b[2]),E&8&&Q!==(Q=q+"/view/post/?id="+b[3])&&u(o,"href",Q),E&1&&V(W,b[0]),E&32&&V(X,b[5]),E&2&&J!==(J=b[1].name+"")&&V(Y,J),E&8&&Z!==(Z=q+"/view/author/?id="+b[3])&&u(C,"href",Z),E&16){R=b[4];let v;for(v=0;v<R.length;v+=1){const K=Ie(b,R,v);k[v]?k[v].p(K,E):(k[v]=Ve(K),k[v].c(),k[v].m(z,null))}for(;v<k.length;v+=1)k[v].d(1);k.length=R.length}},i:O,o:O,d(b){b&&h(e),_e(k,b)}}}function tt(i,e,a){let{title:r}=e,{body:l}=e,{author:t}=e,{id:c}=e,{categories:n}=e,{reactions:s}=e;return i.$$set=f=>{"title"in f&&a(2,r=f.title),"body"in f&&a(0,l=f.body),"author"in f&&a(1,t=f.author),"id"in f&&a(3,c=f.id),"categories"in f&&a(4,n=f.categories),"reactions"in f&&a(5,s=f.reactions)},i.$$.update=()=>{i.$$.dirty&1&&a(0,l=xe(l)),i.$$.dirty&2&&a(1,t.color=$e(t),t)},[l,t,r,c,n,s]}class at extends ue{constructor(e){super(),he(this,e,tt,et,de,{title:2,body:0,author:1,id:3,categories:4,reactions:5})}}function Be(i,e,a){const r=i.slice();return r[2]=e[a],r}function lt(i){let e,a,r,l;return{c(){e=g("article"),a=g("div"),r=g("span"),l=P("Sin resultados..."),this.h()},l(t){e=p(t,"ARTICLE",{class:!0});var c=m(e);a=p(c,"DIV",{class:!0});var n=m(a);r=p(n,"SPAN",{});var s=m(r);l=y(s,"Sin resultados..."),s.forEach(h),n.forEach(h),c.forEach(h),this.h()},h(){u(a,"class","alert alert-info shadow-lg"),u(e,"class","p-4")},m(t,c){w(t,e,c),d(e,a),d(a,r),d(r,l)},p:O,i:O,o:O,d(t){t&&h(e)}}}function st(i){let e,a,r,l=i[0].posts.rows,t=[];for(let n=0;n<l.length;n+=1)t[n]=ze(Be(i,l,n));const c=n=>F(t[n],1,1,()=>{t[n]=null});return a=new Ze({props:{res:i[0]}}),a.$on("changePage",nt),{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=N(),je(a.$$.fragment)},l(n){for(let s=0;s<t.length;s+=1)t[s].l(n);e=A(n),Le(a.$$.fragment,n)},m(n,s){for(let f=0;f<t.length;f+=1)t[f].m(n,s);w(n,e,s),Re(a,n,s),r=!0},p(n,s){if(s&1){l=n[0].posts.rows;let o;for(o=0;o<l.length;o+=1){const _=Be(n,l,o);t[o]?(t[o].p(_,s),M(t[o],1)):(t[o]=ze(_),t[o].c(),M(t[o],1),t[o].m(e.parentNode,e))}for(Ue(),o=l.length;o<t.length;o+=1)c(o);Oe()}const f={};s&1&&(f.res=n[0]),a.$set(f)},i(n){if(!r){for(let s=0;s<l.length;s+=1)M(t[s]);M(a.$$.fragment,n),r=!0}},o(n){t=t.filter(Boolean);for(let s=0;s<t.length;s+=1)F(t[s]);F(a.$$.fragment,n),r=!1},d(n){_e(t,n),n&&h(e),qe(a,n)}}}function ze(i){let e,a;const r=[i[2]];let l={};for(let t=0;t<r.length;t+=1)l=Ge(l,r[t]);return e=new at({props:l}),{c(){je(e.$$.fragment)},l(t){Le(e.$$.fragment,t)},m(t,c){Re(e,t,c),a=!0},p(t,c){const n=c&1?He(r,[Je(t[2])]):{};e.$set(n)},i(t){a||(M(e.$$.fragment,t),a=!0)},o(t){F(e.$$.fragment,t),a=!1},d(t){qe(e,t)}}}function rt(i){let e,a,r,l;const t=[st,lt],c=[];function n(s,f){return s[0]?0:1}return e=n(i),a=c[e]=t[e](i),{c(){a.c(),r=ee()},l(s){a.l(s),r=ee()},m(s,f){c[e].m(s,f),w(s,r,f),l=!0},p(s,[f]){let o=e;e=n(s),e===o?c[e].p(s,f):(Ue(),F(c[o],1,1,()=>{c[o]=null}),Oe(),a=c[e],a?a.p(s,f):(a=c[e]=t[e](s),a.c()),M(a,1),a.m(r.parentNode,r))},i(s){l||(M(a),l=!0)},o(s){F(a),l=!1},d(s){c[e].d(s),s&&h(r)}}}function nt(i){const e=i.detail;console.log("changedPaged:"+e)}function ot(i,e,a){let r,{data:l}=e;return i.$$set=t=>{"data"in t&&a(1,l=t.data)},i.$$.update=()=>{i.$$.dirty&2&&a(0,r=l.data)},[r,l]}class ut extends ue{constructor(e){super(),he(this,e,ot,rt,de,{data:1})}}export{ut as default};
